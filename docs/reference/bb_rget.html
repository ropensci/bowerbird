<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>A recursive download utility — bb_rget • bowerbird</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="A recursive download utility — bb_rget" />
<meta property="og:description" content="This function provides similar, but simplified, functionality to the the command-line wget utility. It is based on the rvest package." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bowerbird</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.11.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/bowerbird.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/data_provenance.html">Data provenance</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/bowerbird/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>A recursive download utility</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/bowerbird/blob/master/R/rget.R'><code>R/rget.R</code></a></small>
    <div class="hidden name"><code>bb_rget.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function provides similar, but simplified, functionality to the the command-line <code>wget</code> utility. It is based on the <code>rvest</code> package.</p>
    </div>

    <pre class="usage"><span class='fu'>bb_rget</span><span class='op'>(</span>
  <span class='va'>url</span>,
  level <span class='op'>=</span> <span class='fl'>0</span>,
  wait <span class='op'>=</span> <span class='fl'>0</span>,
  accept_follow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"(/|\\.html?)$"</span><span class='op'>)</span>,
  reject_follow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span><span class='op'>(</span><span class='op'>)</span>,
  accept_download <span class='op'>=</span> <span class='fu'>bb_rget_default_downloads</span><span class='op'>(</span><span class='op'>)</span>,
  accept_download_extra <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span><span class='op'>(</span><span class='op'>)</span>,
  reject_download <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span><span class='op'>(</span><span class='op'>)</span>,
  <span class='va'>user</span>,
  <span class='va'>password</span>,
  clobber <span class='op'>=</span> <span class='fl'>1</span>,
  no_parent <span class='op'>=</span> <span class='cn'>TRUE</span>,
  no_check_certificate <span class='op'>=</span> <span class='cn'>FALSE</span>,
  relative <span class='op'>=</span> <span class='cn'>FALSE</span>,
  remote_time <span class='op'>=</span> <span class='cn'>TRUE</span>,
  verbose <span class='op'>=</span> <span class='cn'>FALSE</span>,
  show_progress <span class='op'>=</span> <span class='va'>verbose</span>,
  debug <span class='op'>=</span> <span class='cn'>FALSE</span>,
  dry_run <span class='op'>=</span> <span class='cn'>FALSE</span>,
  stop_on_download_error <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>force_local_filename</span>,
  use_url_directory <span class='op'>=</span> <span class='cn'>TRUE</span>,
  no_host <span class='op'>=</span> <span class='cn'>FALSE</span>,
  cut_dirs <span class='op'>=</span> <span class='fl'>0L</span>,
  link_css <span class='op'>=</span> <span class='st'>"a"</span>,
  <span class='va'>curl_opts</span>
<span class='op'>)</span>

<span class='fu'>bb_rget_default_downloads</span><span class='op'>(</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>url</th>
      <td><p>string: the URL to retrieve</p></td>
    </tr>
    <tr>
      <th>level</th>
      <td><p>integer &gt;=0: recursively download to this maximum depth level. Specify 0 for no recursion</p></td>
    </tr>
    <tr>
      <th>wait</th>
      <td><p>numeric &gt;=0: wait this number of seconds between successive retrievals. This option may help with servers that block users making too many requests in a short period of time</p></td>
    </tr>
    <tr>
      <th>accept_follow</th>
      <td><p>character: character vector with one or more entries. Each entry specifies a regular expression that is applied to the complete URL. URLs matching all entries will be followed during the spidering process. Note that the first URL (provided via the <code>url</code> parameter) will always be visited, unless it matches the download criteria</p></td>
    </tr>
    <tr>
      <th>reject_follow</th>
      <td><p>character: as for <code>accept_follow</code>, but specifying URL regular expressions to reject</p></td>
    </tr>
    <tr>
      <th>accept_download</th>
      <td><p>character: character vector with one or more entries. Each entry specifies a regular expression that is applied to the complete URL. URLs that match all entries will be accepted for download. By default the <code>accept_download</code> parameter is that returned by <code>bb_rget_default_downloads</code>: use <code>bb_rget_default_downloads()</code> to see what that is</p></td>
    </tr>
    <tr>
      <th>accept_download_extra</th>
      <td><p>character: character vector with one or more entries. If provided, URLs will be accepted for download if they match all entries in <code>accept_download</code> OR all entries in <code>accept_download_extra</code>. This is a convenient method to add one or more extra download types, without needing to re-specify the defaults in <code>accept_download</code></p></td>
    </tr>
    <tr>
      <th>reject_download</th>
      <td><p>character: as for <code>accept_regex</code>, but specifying URL regular expressions to reject</p></td>
    </tr>
    <tr>
      <th>user</th>
      <td><p>string: username used to authenticate to the remote server</p></td>
    </tr>
    <tr>
      <th>password</th>
      <td><p>string: password used to authenticate to the remote server</p></td>
    </tr>
    <tr>
      <th>clobber</th>
      <td><p>numeric: 0=do not overwrite existing files, 1=overwrite if the remote file is newer than the local copy, 2=always overwrite existing files</p></td>
    </tr>
    <tr>
      <th>no_parent</th>
      <td><p>logical: if <code>TRUE</code>, do not ever ascend to the parent directory when retrieving recursively. This is <code>TRUE</code> by default, bacause it guarantees that only the files below a certain hierarchy will be downloaded. Note that this check only applies to links on the same host as the starting <code>url</code>. If that URL links to files on another host, those links will be followed (unless <code>relative = TRUE</code>)</p></td>
    </tr>
    <tr>
      <th>no_check_certificate</th>
      <td><p>logical: if <code>TRUE</code>, don't check the server certificate against the available certificate authorities. Also don't require the URL host name to match the common name presented by the certificate. This option might be useful if trying to download files from a server with an expired certificate, but it is clearly a security risk and so should be used with caution</p></td>
    </tr>
    <tr>
      <th>relative</th>
      <td><p>logical: if <code>TRUE</code>, only follow relative links. This can be useful for restricting what is downloaded in recursive mode</p></td>
    </tr>
    <tr>
      <th>remote_time</th>
      <td><p>logical: if <code>TRUE</code>, attempt to set the local file's time to that of the remote file</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical: print trace output?</p></td>
    </tr>
    <tr>
      <th>show_progress</th>
      <td><p>logical: if <code>TRUE</code>, show download progress</p></td>
    </tr>
    <tr>
      <th>debug</th>
      <td><p>logical: if <code>TRUE</code>, will print additional debugging information. If bb_rget is not behaving as expected, try setting this to <code>TRUE</code></p></td>
    </tr>
    <tr>
      <th>dry_run</th>
      <td><p>logical: if <code>TRUE</code>, spider the remote site and work out which files would be downloaded, but don't download them</p></td>
    </tr>
    <tr>
      <th>stop_on_download_error</th>
      <td><p>logical: if <code>TRUE</code>, the download process will stop if any file download fails. If <code>FALSE</code>, the process will issue a warning and continue to the next file to download</p></td>
    </tr>
    <tr>
      <th>force_local_filename</th>
      <td><p>string: if provided, then the <code>url</code> will be treated as a single URL (no recursion will be conducted). It will be downloaded to a file with this name, in a local directory determined by the <code>url</code></p></td>
    </tr>
    <tr>
      <th>use_url_directory</th>
      <td><p>logical: if <code>TRUE</code>, files will be saved into a local directory that follows the URL structure (e.g. files from <code>http://some.where/place</code> will be saved into directory <code>some.where/place</code>). If <code>FALSE</code>, files will be saved into the current directory</p></td>
    </tr>
    <tr>
      <th>no_host</th>
      <td><p>logical: if <code>use_url_directory = TRUE</code>, specifying <code>no_host = TRUE</code> will remove the host name from the directory (e.g. files from files from <code>http://some.where/place</code> will be saved into directory <code>place</code>)</p></td>
    </tr>
    <tr>
      <th>cut_dirs</th>
      <td><p>integer: if <code>use_url_directory = TRUE</code>, specifying <code>cut_dirs</code> will remove this many directory levels from the path of the local directory where files will be saved (e.g. if <code>cut_dirs = 2</code>, files from <code>http://some.where/place/baa/haa</code> will be saved into directory <code>some.where/haa</code>. if <code>cut_dirs = 1</code> and <code>no_host = TRUE</code>, files from <code>http://some.where/place/baa/haa</code> will be saved into directory <code>baa/haa</code>)</p></td>
    </tr>
    <tr>
      <th>link_css</th>
      <td><p>string: css selector that identifies links (passed as the <code>css</code> parameter to <code><a href='https://rvest.tidyverse.org/reference/rename.html'>html_nodes</a></code>). Note that link elements must have an <code>href</code> attribute</p></td>
    </tr>
    <tr>
      <th>curl_opts</th>
      <td><p>named list: options to use with <code>curl</code> downloads, passed to the <code>.list</code> parameter of <code><a href='https://rdrr.io/pkg/curl/man/handle.html'>curl::new_handle</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a list with components 'ok' (TRUE/FALSE), 'files', and 'message' (error or other messages)</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>NOTE: this is still somewhat experimental.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Ben Raymond, Michael Sumner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


